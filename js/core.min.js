!function(e,t,n){e(document).ready(function(){var n=e(t);e(".active-on-inview").each(function(){function t(){i=n.height(),a=s.offset().top}function o(){var e=n.scrollTop();e>a-i/2?s.addClass("active"):s.removeClass("active")}var i,a,s=e(this);t(),n.on("resize",t).on("scroll",o)})})}(jQuery,window),function(e,t,n){function o(){var t=e(".input-row.current"),n=t.next(".input-row");0!==t.length&&t.removeClass("current").addClass("complete"),0!==n.length&&n.velocity("fadeIn",{duration:400}),e(".form-nav span").each(function(t){var n=e(".input-row.complete").length;n>t&&e(this).addClass("complete").removeClass("active"),t==n&&e(this).addClass("active")})}var i,a=e(".input-row input");e(".contact-form .gateway").click(function(t){t.preventDefault();var n=e(this).attr("href"),o=e(this).data("value"),i=e(e(this).data("fields"));e('.subject-select input[type="radio"]').not('[value="'+o+'"]').attr("checked",!1),e('.subject-select input[value="'+o+'"]').attr("checked","checked").change(),e(n).velocity("scroll",{duration:500}),"block"!==i.css("display")&&(i.velocity("fadeIn",{duration:400}),e(".input-row").first().velocity("fadeIn",{duration:400,complete:function(){e("#contact_name").focus()}}))}),e('input[type="radio"]').on("change",function(){var t=e(this).val(),n=e('a.gateway[data-value="'+t+'"]');e(".subject-select").addClass("has-selection"),n.hasClass("selected")||(e("a.gateway").removeClass("selected"),n.addClass("selected"))}),a.keyup(function(){var t=e(this);clearTimeout(i),i=setTimeout(function(){""!==t.val()&&o()},600)}).keydown(function(){clearTimeout(i)}).focus(function(){e(this).parents(".input-row").addClass("current")}).blur(function(){e(this).parents(".input-row").removeClass("current")}),e(".input-row textarea").keyup(function(){""!==e(this).val()?(e(".form-nav span").last().addClass("complete").removeClass("active"),e('.input-row input[type="submit"]').attr("disabled",!1)):(e(".form-nav span").last().removeClass("complete").addClass("active"),e('.input-row input[type="submit"]').attr("disabled",!0))})}(jQuery,window),function(e,t,n){function o(){a="xlarge"==OS.getMediaSize()?100:"medium"==OS.getMediaSize()?60:30,OS.isCaseStudy()&&(s=d.outerHeight()-a,OS.window.scrollTop()<s&&l.addClass("ui-light-theme")),OS.isHome()&&(r=e(".home .case-study-preview").first().offset().top,c=e(".former-clients").offset().top)}function i(){var e=OS.window.scrollTop();OS.isCaseStudy()&&(e>=s?l.removeClass("ui-light-theme"):l.addClass("ui-light-theme")),OS.isHome()&&(e>=r-a&&c-a>e?l.addClass("ui-light-theme"):l.removeClass("ui-light-theme"))}var a,s,r,c,l=e("body"),d=e(".single-case_study .page-header");o(),OS.window.on("resize",o).on("scroll",i)}(jQuery,window),function(e,t,n){e(".home-intro, .home .case-study-preview").each(function(){function t(){a=OS.getMediaSize(),i=OS.window.height(),o=s.offset().top}function n(){var e=OS.window.scrollTop(),t=e-o;t>=0?r.velocity({translateY:.5*t+"px"},0):t>s.outerHeight()/2?r.velocity({translateY:"50%"},0):r.velocity({translateY:"0px"},0)}var o,i,a,s=e(this),r=s.find(".section-container");s.find(".scrim"),s.find(".section-content");t(),"default"!==a&&"small"!==a&&OS.window.on("resize",t),OS.window.on("scroll",n)})}(jQuery,window),function(e,t,n){var o={duration:1e3,mobileHA:!1},i=e(t);e(".smooth-scroll").on("click",function(t){t.preventDefault();var n=e(this).attr("href");e(n).velocity("scroll",o)}),e(".page-section").each(function(){function t(){o=s.offset().top,a=i.height()}function n(){var t=i.scrollTop();t>=o&&o+a>t&&(0===r.length?e(".scroll-down").attr("href","#page").addClass("reverse"):e(".scroll-down").attr("href","#"+r.attr("id")).removeClass("reverse"))}var o,a,s=e(this),r=s.next(".page-section");e("body.home").length>0&&(t(),i.on("resize",t),i.on("scroll",n))})}(jQuery,window),function(e,t,n){e(".menu-toggle").on("click",function(t){t.preventDefault();var n,o=e(".site-header"),i=e(".main-menu");o.hasClass("main-menu-active")?(o.removeClass("main-menu-active"),n=[{e:i,p:"fadeOut",o:{duration:300}},{e:e(".main-menu-scrim"),p:"fadeOut",o:{duration:300,sequenceQueue:!1}}],e.Velocity.RunSequence(n)):(0===e(".main-menu-scrim").length&&e('<div class="main-menu-scrim"></div>').appendTo("body"),o.addClass("main-menu-active"),n=[{e:e(".main-menu-scrim"),p:"fadeIn",o:{duration:300}},{e:i,p:"fadeIn",o:{duration:300,sequenceQueue:!1}}],e.Velocity.RunSequence(n))})}(jQuery,window),function(e,t,n){function o(){a=d.height(),s=OS.getMediaSize(),officesTop=r.offset().top,c=e(".brooklyn .office-address").offset().top,l=e(".office-location.oakland").offset().top}function i(){var e=d.scrollTop();"default"!==s&&"small"!==s&&(e>=officesTop&&l>e?(r.addClass("fixed").removeClass("un-fixed"),r.attr("data-show-map","brooklyn")):e>=l?r.addClass("un-fixed").removeClass("fixed"):(r.removeClass("fixed un-fixed"),r.attr("data-show-map","brooklyn")),e>=c&&r.attr("data-show-map","oakland"))}var a,s,r,c,l,d=e(t);if(e(".office-map").length>0&&Modernizr.webgl&&mapboxgl){r=e(".office-locations"),mapboxgl.accessToken="pk.eyJ1Ijoib2JqZWN0aXZlc3ViamVjdCIsImEiOiJPY25wYWRjIn0.AFZPHessR_DGefRkzPilDA";new mapboxgl.Map({container:"brooklyn-map",style:"mapbox://styles/objectivesubject/cijdnlkv400hpavm3hkpvu33m",center:[-73.987472,40.700862],zoom:12.5,minZoom:12.5}),new mapboxgl.Map({container:"oakland-map",style:"mapbox://styles/objectivesubject/cijdoxa6000f81mm2bsxybv8w",center:[-122.2658341,37.8133177],zoom:12.5,minZoom:12.5});o(),d.on("resize",o),d.on("scroll",i)}}(jQuery,window),function(e,t,n){function o(){e(".page-nav li").velocity("fadeIn",{duration:500,stagger:200})}e(".single-case_study").length>0&&e(document).ready(o)}(jQuery,window),function(e,t,n){var o=e(t);e(document).ready(function(){e("[data-parallax-node]").each(function(){function t(){i=r.offset().top,a=o.height(),s=i-a}function n(){var e=o.scrollTop(),t=e-s;"default"!==OS.getMediaSize(),"small"!==OS.getMediaSize()&&e>=s&&r.css({transform:"translateY("+t*c+"px)",zIndex:"1"})}var i,a,s,r=e(this),c=r.data("parallax-node");t(),o.on("resize",t).on("scroll",n)})})}(jQuery,window),function(e,t,n){e(document).ready(function(){e(".os-slideshow").each(function(){var t=e(this),n={mobileFirst:!0,dots:!0};if(t.hasClass("center-mode")&&e.extend(n,{centerMode:!0,centerPadding:"20px",slidesToShow:1,responsive:[{breakpoint:768,settings:{centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:960,settings:{centerMode:!0,centerPadding:"100px",slidesToShow:1}}]}),t.hasClass("unslick")){var o={breakpoint:t.data("unslick"),settings:"unslick"};n.responsive?n.responsive.push(o):n.responsive=[o]}t.slick(n)})})}(jQuery,window),function(e,t,n){e(document).ready(function(){e(".slider-input").each(function(){var t=e(this),n=t.closest(".slider-row"),o=t.siblings(".slider-track, .slider-thumb"),i=n.find("img.top");t.on("input",function(e){if("default"!==OS.getMediaSize()&&"small"!==OS.getMediaSize()){var n=t.val(),a=i.width(),s=i.height(),r=a*(n/100);i.css({clip:"rect( 0, "+r+"px, "+s+"px, 0 )"}),o.css({left:n+"%"})}})})})}(jQuery,window);