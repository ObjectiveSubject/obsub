!function(e,a,t){var l=e("body.home").length>0;e(document).ready(function(e){function t(t,l){"desktop"==t&&l?("on"==h?(n(),e(a).on("DOMMouseScroll mousewheel",i)):(o(),e(a).on("scroll",o)),U.on("click",r),j.on("click",f),e(document).on("keydown",function(t){"40"!=t.which||j.hasClass("inactive")?"38"==t.which&&(!U.hasClass("inactive")||U.hasClass("inactive")&&e(a).scrollTop()!=C.eq(0).offset().top)&&(t.preventDefault(),r()):(t.preventDefault(),f())}),u()):"mobile"==t&&(p(),e(a).off("DOMMouseScroll mousewheel",i),e(a).off("scroll",o),U.off("click",r),j.off("click",f),e(document).off("keydown"))}function o(){a.requestAnimationFrame?a.requestAnimationFrame(s):s()}function s(){var t=e(a).scrollTop(),l=e(a).height();e(a).width();C.each(function(){var a=e(this),o=t-a.offset().top,s=y(o,l,w);c(a.children("div"),s[0],s[1],s[2],s[3],s[4]),o>=0&&l>o?a.addClass("visible"):a.removeClass("visible")}),u()}function c(e,a,t,l,o,s){e.velocity({translateY:a+"vh",scale:t,rotateX:l,opacity:o,boxShadowBlur:s+"px",translateZ:0},0)}function n(){var e=C.filter(".visible"),a=e.prevAll(".page-section"),t=e.nextAll(".page-section"),l=b(w,!1),o=l[0],s=l[1],c=l[2];e.children("div").velocity(o,1,function(){e.css("opacity",1),a.css("opacity",1),t.css("opacity",1)}),a.children("div").velocity(s,0),t.children("div").velocity(c,0)}function i(e){return e.originalEvent.detail<0||e.originalEvent.wheelDelta>0?(k--,Math.abs(k)>=D&&r()):(k++,k>=D&&f()),!1}function r(t){"undefined"!=typeof t&&t.preventDefault();var l=C.filter(".visible"),s="off"==h&&e(a).scrollTop()!=l.offset().top?!0:!1;l=s?l.next(".page-section"):l;var c=b(w,s,"prev");d(l.prev(".page-section"),c[3]),x||l.is(":first-child")||(x=!0,l.removeClass("visible").children("div").velocity(c[2],c[3],c[4]).end().prev(".page-section").addClass("visible").children("div").velocity(c[0],c[3],c[4],function(){x=!1,"off"==h&&e(a).on("scroll",o)}),g-=1),v()}function f(t){"undefined"!=typeof t&&t.preventDefault();var l=C.filter(".visible"),s="off"==h&&e(a).scrollTop()!=l.offset().top?!0:!1,c=b(w,s,"next");d(l.next(".page-section"),c[3]),x||l.is(":last-of-type")||(x=!0,l.removeClass("visible").children("div").velocity(c[1],c[3],c[4]).end().next(".page-section").addClass("visible").children("div").velocity(c[0],c[3],c[4],function(){x=!1,"off"==h&&e(a).on("scroll",o)}),g+=1),v()}function d(t,l){"off"==h&&(e(a).off("scroll",o),"catch"==w?e("body, html").scrollTop(t.offset().top):t.velocity("scroll",{duration:l}))}function v(){k=0,u()}function u(){C.filter(".visible").is(":first-of-type")?U.addClass("inactive"):U.removeClass("inactive"),C.filter(".visible").is(":last-of-type")?j.addClass("inactive"):j.removeClass("inactive")}function p(){C.children("div").each(function(){e(this).attr("style","")})}function m(){return a.getComputedStyle(document.querySelector("body"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}function b(e,a,t){var l="translateNone",o="translateUp",s="translateDown",c="ease",n=800;switch(e){case"scaleDown":o="scaleDown",c="easeInCubic";break;case"rotate":"off"==h?(o="rotation.scroll",s="translateNone"):(o="rotation",c="easeInCubic");break;case"gallery":n=1500,a?(o="scaleDown.moveUp.scroll",l="scaleUp.moveUp.scroll",s="scaleDown.moveDown.scroll"):(l="next"==t?"scaleUp.moveUp":"scaleUp.moveDown",o="scaleDown.moveUp",s="scaleDown.moveDown");break;case"catch":l="translateUp.delay";break;case"opacity":n=700,o="hide.scaleUp",s="hide.scaleDown";break;case"fixed":o="translateNone",c="easeInCubic";break;case"parallax":o="translateUp.half",c="easeInCubic"}return[l,o,s,n,c]}function y(e,a,t){var l=1,o=100,s="0deg",c=1,n=0;if(e>=-a&&0>=e)switch(o=100*-e/a,t){case"scaleDown":l=1,c=1;break;case"rotate":o=0;break;case"gallery":e>=-a&&-.9*a>e?(l=-e/a,o=100*-e/a):e>=-.9*a&&-.1*a>e?(l=.9,o=-1.125*(e+.1*a)*100/a):(l=1+e/a,o=0);break;case"catch":e>=-a&&-.75*a>e?(o=100,n=160*(1+e/a)):(o=-(10/7.5)*e*100/a,n=-160*e/(3*a));break;case"opacity":o=0,l=.2*(e+5*a)/a,c=(e+a)/a}else if(e>0&&a>=e)switch(o=100*-e/a,t){case"scaleDown":l=(1-.3*e/a).toFixed(5),c=(1-e/a).toFixed(5),o=0,n=40*(e/a);break;case"rotate":c=(1-e/a).toFixed(5),s=90*e/a+"deg",o=0;break;case"gallery":e>=0&&.1*a>e?(l=(a-e)/a,o=100*-(e/a)):e>=.1*a&&.9*a>e?(l=.9,o=-1.125*(e-.1*a/9)*100/a):(l=e/a,o=-100);break;case"catch":n=e>=0&&a/2>e?80*e/a:80*(1-e/a);break;case"opacity":o=0,l=.2*(e+5*a)/a,c=(a-e)/a;break;case"fixed":o=0;break;case"parallax":o=50*-e/a}else if(-a>e)switch(o=100,t){case"scaleDown":l=1,c=1;break;case"gallery":l=1;break;case"opacity":o=0,l=.8,c=0}else switch(o=-100,t){case"scaleDown":l=0,c=.7,o=0;break;case"rotate":o=0,s="90deg";break;case"gallery":l=1;break;case"opacity":o=0,l=1.2,c=0;break;case"fixed":o=0;break;case"parallax":o=-50}return[o,l,s,c,n]}if(l){var h=e("body").data("hijacking"),w=e("body").data("animation"),k=0,D=5,g=1,x=!1,C=e(".page-section"),Y=e(".os-vertical-nav"),U=Y.find("a.cd-prev"),j=Y.find("a.cd-next"),E=m(),I=!1;t(E,!0),e(a).on("resize",function(){E=m(),t(E,I),"mobile"==E&&(I=!0),"desktop"==E&&(I=!1)})}}),l&&(e.Velocity.RegisterEffect("scaleDown.moveUp",{defaultDuration:1,calls:[[{translateY:"-10%",scale:"0.9"},.2],[{translateY:"-100%"},.6],[{translateY:"-100%",scale:"1"},.2]]}),e.Velocity.RegisterEffect("scaleDown.moveUp.scroll",{defaultDuration:1,calls:[[{translateY:"-100%",scale:"0.9"},.6],[{translateY:"-100%",scale:"1"},.4]]}),e.Velocity.RegisterEffect("scaleUp.moveUp",{defaultDuration:1,calls:[[{translateY:"90%",scale:"0.9"},.2],[{translateY:"0%"},.6],[{translateY:"0%",scale:"1"},.2]]}),e.Velocity.RegisterEffect("scaleUp.moveUp.scroll",{defaultDuration:1,calls:[[{translateY:"0%",scale:"0.9"},.6],[{translateY:"0%",scale:"1"},.4]]}),e.Velocity.RegisterEffect("scaleDown.moveDown",{defaultDuration:1,calls:[[{translateY:"10%",scale:"0.9"},.2],[{translateY:"100%"},.6],[{translateY:"100%",scale:"1"},.2]]}),e.Velocity.RegisterEffect("scaleDown.moveDown.scroll",{defaultDuration:1,calls:[[{translateY:"100%",scale:"0.9"},.6],[{translateY:"100%",scale:"1"},.4]]}),e.Velocity.RegisterEffect("scaleUp.moveDown",{defaultDuration:1,calls:[[{translateY:"-90%",scale:"0.9"},.2],[{translateY:"0%"},.6],[{translateY:"0%",scale:"1"},.2]]}))}(jQuery,window,void 0),function(e,a,t){e(".smooth-scroll").on("click",function(a){a.preventDefault();var t=e(this).attr("href"),l=e(t).offset();e("html, body").animate({scrollTop:l.top})})}(jQuery,window),function(e,a,t){e(".menu-toggle").on("click",function(a){a.preventDefault();var t=e(".site-header"),l=e(".main-menu");t.hasClass("main-menu-active")?(e(".main-menu-scrim").fadeOut(300,function(){e(this).remove()}),l.fadeOut(300),t.removeClass("main-menu-active")):(e('<div class="main-menu-scrim"></div>').appendTo("body").fadeIn(300),t.addClass("main-menu-active"),l.fadeIn(300))})}(jQuery,window),function(e,a,t){if(e("#content.contact").length>0){mapboxgl.accessToken="pk.eyJ1Ijoib2JqZWN0aXZlc3ViamVjdCIsImEiOiJPY25wYWRjIn0.AFZPHessR_DGefRkzPilDA";new mapboxgl.Map({container:"brooklyn-map",style:"mapbox://styles/objectivesubject/cijdnlkv400hpavm3hkpvu33m",scrollWheelZoom:!1}),new mapboxgl.Map({container:"oakland-map",style:"mapbox://styles/objectivesubject/cijdoxa6000f81mm2bsxybv8w",scrollWheelZoom:!1})}}(jQuery,window);