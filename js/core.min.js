!function(e,o,t){function n(){return o.getComputedStyle(document.querySelector("body"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}var a=e(".page-section"),r=e(o),i="#F0F0EE";mediaSize=n(),"medium"==mediaSize&&a.each(function(){var o=e(this),t=o.data("color")||i,n=o.next(".page-section"),a=n.data("color")||i,s=o.offset().top,u=o.offset().top+o.outerHeight(),d=new e.Color(t),c=n.length?new e.Color(a):new e.Color(i);r.on("scroll",function(){var o=r.scrollTop();if(o>=s&&u>o){var t=(o-s)/(u-s),n=d.red()+(c.red()-d.red())*t,a=d.green()+(c.green()-d.green())*t,i=d.blue()+(c.blue()-d.blue())*t,l=new e.Color(n,a,i);e("body").css({backgroundColor:l})}})})}(jQuery,window),function(e,o,t){e(document).ready(function(){var t=e(o);t.height();e(".case-study-preview").each(function(){var o=e(this),n=e(this).outerHeight(),a=o.offset().top-.25*n,r=o.offset().top+.5*n,i=(o.find(".section-image"),o.find(".section-content"));i.outerHeight();t.on("scroll",function(){var e=t.scrollTop();e>=a&&r>e?o.addClass("active"):o.removeClass("active")})})})}(jQuery,window),function(e,o,t){e(".smooth-scroll").on("click",function(o){o.preventDefault();var t=e(this).attr("href");e(t).velocity("scroll",{duration:1e3,mobileHA:!1})})}(jQuery,window),function(e,o,t){e(".menu-toggle").on("click",function(o){o.preventDefault();var t,n=e(".site-header"),a=e(".main-menu"),r=e(".wordmark.light"),i=e(".wordmark.dark");n.hasClass("main-menu-active")?(n.removeClass("main-menu-active"),t=[{e:e(".main-menu > li"),p:{translateY:"20px"},o:{duration:200,stagger:200}},{e:i,p:"fadeIn",o:{duration:300,display:"block"}},{e:r,p:"fadeOut",o:{duration:300,display:"block",sequenceQueue:!1}},{e:a,p:"fadeOut",o:{duration:300,sequenceQueue:!1}},{e:e(".main-menu-scrim"),p:"fadeOut",o:{duration:300,sequenceQueue:!1}}],e.Velocity.RunSequence(t)):(0==e(".main-menu-scrim").length&&e('<div class="main-menu-scrim"></div>').appendTo("body"),n.addClass("main-menu-active"),t=[{e:e(".main-menu-scrim"),p:"fadeIn",o:{duration:300}},{e:a,p:"fadeIn",o:{duration:300,sequenceQueue:!1}},{e:i,p:"fadeOut",o:{duration:300,sequenceQueue:!1}},{e:r,p:"fadeIn",o:{duration:300,sequenceQueue:!1}},{e:e(".main-menu > li"),p:{translateY:"0"},o:{duration:200,stagger:200}}],e.Velocity.RunSequence(t))})}(jQuery,window),function(e,o,t){function n(){f=l.height(),s=i.offset().top,d=u.offset().top,m=r()}function a(){var e=l.scrollTop(),o=e+f/2;"medium"==m&&(e>=s&&d>e?(i.addClass("fixed").removeClass("offset"),c.addClass("fixed").removeClass("offset")):e>=d?(i.removeClass("fixed").addClass("offset"),c.removeClass("fixed").addClass("offset")):(i.removeClass("fixed offset"),c.removeClass("fixed offset")),o>=d?c.attr("data-show","oakland"):c.attr("data-show","brooklyn"))}function r(){return o.getComputedStyle(document.querySelector("body"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}var i,s,u,d,c,l=e(o),f=l.height(),m=r();e(".office-map").length>0&&Modernizr.cssvhunit&&(i=e(".office-location.brooklyn"),u=e(".office-location.oakland"),c=e(".address-sidebar"),s=i.offset().top,d=u.offset().top,l.on("resize",n),l.on("scroll",a))}(jQuery,window);