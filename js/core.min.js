!function(e,t,a){e(document).ready(function(){e(".active-on-inview").each(function(){function t(){o=OS.window.height(),n=o*r*-1}function a(){var e=OS.window.scrollTop();i=s.offset().top+n,e>=i?s.addClass("active"):s.removeClass("active")}var o,n,i,s=e(this),r=s.data("offset")||0;t(),OS.window.on("resize",t).on("scroll",a)})})}(jQuery,window),function(e,t,a){function o(){var t=e(".input-row.current"),a=t.next(".input-row");0!==t.length&&t.removeClass("current").addClass("complete"),0!==a.length&&a.velocity("fadeIn",{duration:400}),e(".form-nav span").each(function(t){var a=e(".input-row.complete").length;a>t&&e(this).addClass("complete").removeClass("active"),t==a&&e(this).addClass("active")})}function n(t){var a=t.jquery?t:e(t),o=new RegExp(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/),n=!0;return a.find('input[type="email"]').each(function(){var t=o.test(e(this).val());t||(n=!1),e('input[type="email"]').removeClass("error"),e(this).addClass("error"),e(".message.error").append("Please provide a valid email address")}),a.find("input[required], textarea[required]").each(function(){e(this).val()||(n=!1,e("input[required]").removeClass("error"),e(this).addClass("error")),e(".message.error").append("Please make sure to give us your name, email, and a brief message.")}),a.find('input[type="hidden"]').each(function(){e(this).val()&&(n=!1)}),n}function i(t,a,o){var n=OS.getMediaSize(),i="default"!==n&&"small"!==n?-180:-100;$success=e(".contact-form-container .success"),t.recaptcha?$success.append("Thank you! We'll be in touch shortly."):$success.append("Sorry, the verification process failed.<br/><br/>Please reach out directly: <a href='mailto:info@objectivesubject.com'>info@objectivesubject.com</a>");var s=[{e:e("#contact-form"),p:{opacity:0},o:{duration:500}},{e:$success,p:"fadeIn",o:{duration:500}},{e:e("#contact-form"),p:{height:0},o:{duration:500,sequenceQueue:!1}},{e:e(".contact-form-container"),p:"scroll",o:{duration:500,sequenceQueue:!1,offset:i}}];e.Velocity.RunSequence(s)}function s(t,a,o){e(".message.error").html("Oops, looks like there was an error! See below:<br/><br/>"+a+"<br/>"+o+"<br/>"+t.responseText),e(".message.error").velocity("fadeIn",500)}function r(){e(".contact-form").removeClass("loading")}var c,l=e(".input-row input");e(".contact-form .gateway").click(function(t){t.preventDefault();var a=e(this).attr("href"),o=e(this).data("value"),n=e(e(this).data("fields"));e('.subject-select input[type="radio"]').not('[value="'+o+'"]').attr("checked",!1),e('.subject-select input[value="'+o+'"]').attr("checked","checked").change(),e(a).velocity("scroll",{duration:500}),"block"!==n.css("display")&&(n.velocity("fadeIn",{duration:400}),e(".input-row").first().velocity("fadeIn",{duration:400,complete:function(){e("#contact_name").focus()}}))}),e('input[type="radio"]').on("change",function(){var t=e(this).val(),a=e('a.gateway[data-value="'+t+'"]');e(".subject-select").addClass("has-selection"),a.hasClass("selected")||(e("a.gateway").removeClass("selected"),a.addClass("selected"))}),l.on("keyup",function(){var t=e(this);clearTimeout(c),c=setTimeout(function(){""!==t.val()&&o()},600)}).on("keydown",function(){clearTimeout(c)}).on("focus",function(){e(this).parents(".input-row").addClass("current")}).on("blur",function(){e(this).parents(".input-row").removeClass("current")}),e(".input-row textarea").keyup(function(){""!==e(this).val()?(e(".form-nav span").last().addClass("complete").removeClass("active"),e('.input-row input[type="submit"]').attr("disabled",!1)):(e(".form-nav span").last().removeClass("complete").addClass("active"),e('.input-row input[type="submit"]').attr("disabled",!0))}),e("#contact-form").submit(function(t){t.preventDefault();var a=e(this),o=e(this).serialize();if(e(".contact-form").addClass("loading"),!n(a))return s(!1,"Invalid field","Please make sure your fields are valid."),void r();var c={url:osAdmin.ajaxUrl,type:"post",dataType:"json",data:"action=os_form_process&nonce="+osAdmin.nonce+"&"+o,success:i,error:s,complete:r};e.ajax(c)}),e(".subscribe-toggle").click(function(t){t.preventDefault();var a=e(this).attr("href");e(a).hasClass("open")||(e(a).addClass("open").velocity("slideDown",{duration:300}),e(this).addClass("active").text("please provide your email"))})}(jQuery,window),function(e,t,a){var o,n=e("body");e(document).ready(function(){e(".page-section").each(function(){function t(){var e=OS.window.scrollTop(),t=i.offset().top+o,a=i.offset().top+i.outerHeight()+o;e>=t&&a>e&&(i.hasClass("use-ui-light-theme")?n.addClass("ui-light-theme"):n.removeClass("ui-light-theme"))}function a(){o="default"!==OS.getMediaSize()&&"small"!==OS.getMediaSize()?-60:-30,t()}var i=e(this);a(),OS.window.on("resize",a).on("scroll",OS.throttle(t,250))})})}(jQuery,window),function(e,t,a){e(".home-intro, .home .case-study-preview").each(function(){function t(){i=OS.getMediaSize(),n=OS.window.height(),o=s.offset().top}function a(){var e,t;"default"!==i&&"small"!==i&&(e=OS.window.scrollTop(),t=e-o,t>=0?r.velocity({translateY:.5*t+"px"},0):t>s.outerHeight()/2?r.velocity({translateY:"50%"},0):r.velocity({translateY:"0px"},0))}var o,n,i,s=e(this),r=s.find(".section-container");s.find(".scrim"),s.find(".section-content");t(),OS.window.on("resize",t),OS.window.on("scroll",a)})}(jQuery,window),function(e,t,a){var o={duration:1e3,mobileHA:!1};e(".smooth-scroll").on("click",function(t){t.preventDefault();var a=e(this).attr("href");e(a).velocity("scroll",o)}),e(".page-section").each(function(){function t(){o=i.offset().top,n=OS.window.height()}function a(){var t=OS.window.scrollTop();OS.isHome()?t>=o&&o+n>t&&(0===s.length?e(".scroll-down").addClass("off-canvas"):(e(".scroll-down").removeClass("off-canvas"),e(".scroll-down").attr("href","#"+s.attr("id")))):t>0?e(".scroll-down").addClass("off-canvas"):e(".scroll-down").removeClass("off-canvas")}var o,n,i=e(this),s=i.next(".page-section");t(),OS.window.on("resize",t),OS.window.on("scroll",a)}),e(".case-study-title a").click(function(t){t.preventDefault();var a=e(this),o=a.parents(".page-section"),n=a.attr("href"),i=Math.abs(o.offset().top-OS.window.scrollTop()),s=5*i>1e3?1e3:5*i;o.velocity("scroll",{mobileHA:!1,duration:s,complete:function(){OS.window.on("scroll",function(e){e.preventDefault()}),location.href=n}})})}(jQuery,window),function(e,t,a){e(".menu-toggle").on("click",function(t){t.preventDefault();var a,o=e(".site-header"),n=e(".main-menu");o.hasClass("main-menu-active")?(o.removeClass("main-menu-active"),a=[{e:n,p:"fadeOut",o:{duration:300}},{e:e(".main-menu-scrim"),p:"fadeOut",o:{duration:300,sequenceQueue:!1}}],e.Velocity.RunSequence(a)):(0===e(".main-menu-scrim").length&&e('<div class="main-menu-scrim"></div>').appendTo("body"),o.addClass("main-menu-active"),a=[{e:e(".main-menu-scrim"),p:"fadeIn",o:{duration:300}},{e:n,p:"fadeIn",o:{duration:300,sequenceQueue:!1}}],e.Velocity.RunSequence(a))})}(jQuery,window),function(e,t,a){function o(){i=u.height(),s=OS.getMediaSize(),officesTop=r.offset().top,c=e(".brooklyn .office-address").offset().top,l=e(".office-location.oakland").offset().top,d=e(f.getCanvas())}function n(){var e=u.scrollTop(),t=e-officesTop;"default"!==s&&"small"!==s&&(t>0&&l>e?(r.addClass("fixed").removeClass("un-fixed"),d.velocity({translateY:t+"px"},0)):e>=l?(r.addClass("un-fixed").removeClass("fixed"),d.velocity({translateY:"100vh"},0)):(r.removeClass("fixed un-fixed"),d.velocity({translateY:"0"},0)),e>=c&&r.attr("data-show-map","oakland"))}var i,s,r,c,l,d,u=e(t);if(e(".office-map").length>0&&Modernizr.webgl&&mapboxgl){r=e(".office-locations"),mapboxgl.accessToken="pk.eyJ1Ijoib2JqZWN0aXZlc3ViamVjdCIsImEiOiJPY25wYWRjIn0.AFZPHessR_DGefRkzPilDA";var f=new mapboxgl.Map({container:"brooklyn-map",style:"mapbox://styles/objectivesubject/cijdnlkv400hpavm3hkpvu33m",center:[-73.987472,40.700862],zoom:12.5,minZoom:12.5});new mapboxgl.Map({container:"oakland-map",style:"mapbox://styles/objectivesubject/cijdoxa6000f81mm2bsxybv8w",center:[-122.2658341,37.8133177],zoom:12.5,minZoom:12.5});o(),u.on("resize",o),u.on("scroll",n)}}(jQuery,window),function(e,t,a){function o(){var t=[{e:e(".page-nav"),p:"slideDown",o:{duration:500,delay:500}},{e:e(".page-nav li:nth-child(1)"),p:{opacity:1},o:{duration:300}},{e:e(".page-nav li:nth-child(2)"),p:{opacity:1},o:{duration:300,sequenceQueue:!1,delay:100}},{e:e(".page-nav li:nth-child(3)"),p:{opacity:1},o:{duration:300,sequenceQueue:!1,delay:100}}];e.Velocity.RunSequence(t)}e(".single-case_study").length>0&&"default"!==OS.getMediaSize()&&"small"!==OS.getMediaSize()&&e(document).ready(o)}(jQuery,window),function(e,t,a){var o=e(t);e(document).ready(function(){e("[data-parallax-node]").each(function(){function t(){n=r.offset().top,i=o.height(),s=n-(i+i*l)}function a(){var e=o.scrollTop(),t=e-s;"default"!==OS.getMediaSize()&&"small"!==OS.getMediaSize()&&e>=s&&r.css({transform:"translateY("+t*c+"px)",zIndex:"1"})}var n,i,s,r=e(this),c=r.data("parallax-node"),l=r.data("parallax-delay");t(),o.on("resize",t).on("scroll",a)})})}(jQuery,window),function(e,t,a){e(document).ready(function(){e(".os-slideshow").each(function(){var t=e(this),a={mobileFirst:!0,dots:!0,lazyLoad:"ondemand"};if(t.hasClass("center-mode")&&e.extend(a,{centerMode:!0,centerPadding:"20px",slidesToShow:1,responsive:[{breakpoint:768,settings:{centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:960,settings:{centerMode:!0,centerPadding:"100px",slidesToShow:1}}]}),t.hasClass("unslick")){var o={breakpoint:t.data("unslick"),settings:"unslick"};a.responsive?a.responsive.push(o):a.responsive=[o]}t.slick(a)})})}(jQuery,window),function(e,t,a){e(document).ready(function(){e(".slider-input").each(function(){var t=e(this),a=t.closest(".slider-row"),o=t.siblings(".slider-track, .slider-thumb"),n=a.find("img.top");t.on("input",function(e){if("default"!==OS.getMediaSize()&&"small"!==OS.getMediaSize()){var a=t.val(),i=n.width(),s=n.height(),r=i*(a/100);n.css({clip:"rect( 0, "+r+"px, "+s+"px, 0 )"}),o.css({left:a+"%"})}})})})}(jQuery,window);