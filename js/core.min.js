!function(e,o,n){function t(){return o.getComputedStyle(document.querySelector("body"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}var a=e(".page-section"),i=e(o),r="#F0F0EE";mediaSize=t(),"medium"==mediaSize&&a.each(function(){var o=e(this),n=o.data("color")||r,t=o.next(".page-section"),a=t.data("color")||r,u=o.offset().top,s=o.offset().top+o.outerHeight(),c=new e.Color(n),d=t.length?new e.Color(a):new e.Color(r);i.on("scroll",function(){var o=i.scrollTop();if(o>=u&&s>o){var n=(o-u)/(s-u),t=c.red()+(d.red()-c.red())*n,a=c.green()+(d.green()-c.green())*n,r=c.blue()+(d.blue()-c.blue())*n,l=new e.Color(t,a,r);e("body").css({backgroundColor:l})}})})}(jQuery,window),function(e,o,n){e(document).ready(function(){var n=e(o);n.height();e(".case-study-preview").each(function(){function o(){a=s.outerHeight(),i=s.offset().top-.25*a,r=s.offset().top+.5*a,u=c.outerHeight()}function t(){var e=n.scrollTop();e>=i&&r>e?s.addClass("active"):s.removeClass("active")}var a,i,r,u,s=e(this),c=(s.find(".section-image"),s.find(".section-content"));o(),n.on("resize",o),n.on("scroll",t)})})}(jQuery,window),function(e,o,n){e(".smooth-scroll").on("click",function(o){o.preventDefault();var n=e(this).attr("href");e(n).velocity("scroll",{duration:1e3,mobileHA:!1})})}(jQuery,window),function(e,o,n){e(".menu-toggle").on("click",function(o){o.preventDefault();var n,t=e(".site-header"),a=e(".main-menu"),i=e(".wordmark.light"),r=e(".wordmark.dark");t.hasClass("main-menu-active")?(t.removeClass("main-menu-active"),n=[{e:e(".main-menu > li"),p:{translateY:"20px"},o:{duration:200,stagger:200}},{e:r,p:"fadeIn",o:{duration:300,display:"block"}},{e:i,p:"fadeOut",o:{duration:300,display:"block",sequenceQueue:!1}},{e:a,p:"fadeOut",o:{duration:300,sequenceQueue:!1}},{e:e(".main-menu-scrim"),p:"fadeOut",o:{duration:300,sequenceQueue:!1}}],e.Velocity.RunSequence(n)):(0===e(".main-menu-scrim").length&&e('<div class="main-menu-scrim"></div>').appendTo("body"),t.addClass("main-menu-active"),n=[{e:e(".main-menu-scrim"),p:"fadeIn",o:{duration:300}},{e:a,p:"fadeIn",o:{duration:300,sequenceQueue:!1}},{e:r,p:"fadeOut",o:{duration:300,sequenceQueue:!1}},{e:i,p:"fadeIn",o:{duration:300,sequenceQueue:!1}},{e:e(".main-menu > li"),p:{translateY:"0"},o:{duration:200,stagger:200}}],e.Velocity.RunSequence(n))})}(jQuery,window),function(e,o,n){function t(){r=l.height(),u=i(),officesTop=s.offset().top,c=e(".brooklyn .office-address").offset().top,d=e(".office-location.oakland").offset().top}function a(){var e=l.scrollTop();"medium"==u&&(e>=officesTop&&d>e?(s.addClass("fixed").removeClass("un-fixed"),s.attr("data-show-map","brooklyn")):e>=d?s.addClass("un-fixed").removeClass("fixed"):(s.removeClass("fixed un-fixed"),s.attr("data-show-map","brooklyn")),e>=c&&s.attr("data-show-map","oakland"))}function i(){return o.getComputedStyle(document.querySelector("body"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}var r,u,s,c,d,l=e(o);e(".office-map").length>0&&Modernizr.cssvhunit&&(s=e(".office-locations"),t(),l.on("resize",t),l.on("scroll",a))}(jQuery,window),function(e,o,n){e(document).ready(function(){e(".os-slideshow").each(function(){var o=e(this),n={mobileFirst:!0,dots:!0};o.hasClass("center-mode")&&e.extend(n,{centerMode:!0,centerPadding:"20px",slidesToShow:1,responsive:[{breakpoint:768,settings:{centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:960,settings:{centerMode:!0,centerPadding:"100px",slidesToShow:1}}]}),o.slick(n)})})}(jQuery,window);