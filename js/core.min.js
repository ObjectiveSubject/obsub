!function(e,o,n){var i=e(".page-section"),t=e(o),a="#F0F0EE";mediaSize=OS.getMediaSize(),"medium"==mediaSize&&e("[data-color]").length>0&&i.each(function(){var o=e(this),n=o.data("color")||a,i=o.next(".page-section"),r=i.data("color")||a,s=o.offset().top,d=o.offset().top+o.outerHeight(),u=new e.Color(n),c=i.length?new e.Color(r):new e.Color(a);t.on("scroll",function(){var o=t.scrollTop();if(o>=s&&d>o){var n=(o-s)/(d-s),i=u.red()+(c.red()-u.red())*n,a=u.green()+(c.green()-u.green())*n,r=u.blue()+(c.blue()-u.blue())*n,l=new e.Color(i,a,r);e("body").css({backgroundColor:l})}})})}(jQuery,window),function(e,o,n){e(document).ready(function(){var n=e(o);n.height();e(".case-study-preview").each(function(){function o(){t=OS.getMediaSize(),a=u.outerHeight(),r=u.offset().top-.25*a,s=u.offset().top+.5*a,d=c.outerHeight()}function i(){var e=n.scrollTop();"medium"==t&&(e>=r&&s>e?u.addClass("active"):u.removeClass("active"))}var t,a,r,s,d,u=e(this),c=(u.find(".section-image"),u.find(".section-content"));e("body.home").length>0&&(o(),n.on("resize",o),n.on("scroll",i))})})}(jQuery,window),function(e,o,n){e(".smooth-scroll").on("click",function(o){o.preventDefault();var n=e(this).attr("href");e(n).velocity("scroll",{duration:1e3,mobileHA:!1})})}(jQuery,window),function(e,o,n){e(".menu-toggle").on("click",function(o){o.preventDefault();var n,i=e(".site-header"),t=e(".main-menu"),a=e(".wordmark.light"),r=e(".wordmark.dark");i.hasClass("main-menu-active")?(i.removeClass("main-menu-active"),n=[{e:e(".main-menu > li"),p:{translateY:"20px"},o:{duration:200,stagger:200}},{e:r,p:"fadeIn",o:{duration:300,display:"block"}},{e:a,p:"fadeOut",o:{duration:300,display:"block",sequenceQueue:!1}},{e:t,p:"fadeOut",o:{duration:300,sequenceQueue:!1}},{e:e(".main-menu-scrim"),p:"fadeOut",o:{duration:300,sequenceQueue:!1}}],e.Velocity.RunSequence(n)):(0===e(".main-menu-scrim").length&&e('<div class="main-menu-scrim"></div>').appendTo("body"),i.addClass("main-menu-active"),n=[{e:e(".main-menu-scrim"),p:"fadeIn",o:{duration:300}},{e:t,p:"fadeIn",o:{duration:300,sequenceQueue:!1}},{e:r,p:"fadeOut",o:{duration:300,sequenceQueue:!1}},{e:a,p:"fadeIn",o:{duration:300,sequenceQueue:!1}},{e:e(".main-menu > li"),p:{translateY:"0"},o:{duration:200,stagger:200}}],e.Velocity.RunSequence(n))})}(jQuery,window),function(e,o,n){function i(){a=c.height(),r=OS.getMediaSize(),officesTop=s.offset().top,d=e(".brooklyn .office-address").offset().top,u=e(".office-location.oakland").offset().top}function t(){var e=c.scrollTop();"medium"==r&&(e>=officesTop&&u>e?(s.addClass("fixed").removeClass("un-fixed"),s.attr("data-show-map","brooklyn")):e>=u?s.addClass("un-fixed").removeClass("fixed"):(s.removeClass("fixed un-fixed"),s.attr("data-show-map","brooklyn")),e>=d&&s.attr("data-show-map","oakland"))}var a,r,s,d,u,c=e(o);e(".office-map").length>0&&Modernizr.cssvhunit&&(s=e(".office-locations"),i(),c.on("resize",i),c.on("scroll",t))}(jQuery,window),function(e,o,n){var i=e(o);e(document).ready(function(){e("[data-parallax-node]").each(function(){function o(){t=s.offset().top,a=i.height(),r=t-a}function n(){var e=i.scrollTop(),o=e-r;"medium"==OS.getMediaSize()&&e>=r&&s.css({transform:"translateY("+o*d+"px)",zIndex:"1"})}var t,a,r,s=e(this),d=s.data("parallax-node");o(),i.on("resize",o).on("scroll",n)})})}(jQuery,window),function(e,o,n){e(document).ready(function(){e(".os-slideshow").each(function(){var o=e(this),n={mobileFirst:!0,dots:!0};o.hasClass("center-mode")&&e.extend(n,{centerMode:!0,centerPadding:"20px",slidesToShow:1,responsive:[{breakpoint:768,settings:{centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:960,settings:{centerMode:!0,centerPadding:"100px",slidesToShow:1}}]}),o.slick(n)})})}(jQuery,window),function(e,o,n){e(document).ready(function(){e(".slider-input").each(function(){var o=e(this),n=o.closest(".slider-row"),i=o.siblings(".slider-track, .slider-thumb"),t=n.find("img.top");o.on("input",function(e){if("medium"==OS.getMediaSize()){var n=o.val(),a=t.width(),r=t.height(),s=a*(n/100);t.css({clip:"rect( 0, "+s+"px, "+r+"px, 0 )"}),i.css({left:n+"%"})}})})})}(jQuery,window);