!function(e,o,n){e(document).ready(function(){var n=e(o);e(".active-on-inview").each(function(){function o(){i=n.height(),a=s.offset().top}function t(){var e=n.scrollTop();e>a-i/2?s.addClass("active"):s.removeClass("active")}var i,a,s=e(this);o(),n.on("resize",o).on("scroll",t)})})}(jQuery,window),function(e,o,n){var t=e(".page-section"),i=e(o),a="#F0F0EE";mediaSize=OS.getMediaSize(),"medium"==mediaSize&&e("[data-color]").length>0&&t.each(function(){var o=e(this),n=o.data("color")||a,t=o.next(".page-section"),s=t.data("color")||a,r=o.offset().top,c=o.offset().top+o.outerHeight(),l=new e.Color(n),d=t.length?new e.Color(s):new e.Color(a);i.on("scroll",function(){var o=i.scrollTop();if(o>=r&&c>o){var n=(o-r)/(c-r),t=l.red()+(d.red()-l.red())*n,a=l.green()+(d.green()-l.green())*n,s=l.blue()+(d.blue()-l.blue())*n,u=new e.Color(t,a,s);e("body").css({backgroundColor:u})}})})}(jQuery,window),function(e,o,n){function t(){var o=e(".input-row.current"),n=o.next(".input-row");0!==o.length&&o.removeClass("current").addClass("complete"),0!==n.length&&n.velocity("fadeIn",{duration:400}),e(".form-nav a").each(function(o){var n=e(".input-row.complete").length;n>o&&e(this).addClass("complete").removeClass("active"),o==n&&e(this).addClass("active")})}e(".contact-form .gateway").click(function(o){o.preventDefault();var n=e(e(this).attr("href"));"block"!==n.css("display")&&(n.velocity("fadeIn",{duration:400}),e(".input-row").first().velocity("fadeIn",{duration:400}))}),e(".input-row input").keyup(function(){var o=e(this),n=setTimeout(function(){""!==o.val()&&t()},1e3);e(this).keydown(function(){clearTimeout(n)})}),e(".input-row input").focus(function(){e(this).parents(".input-row").addClass("current")}),e(".input-row input").blur(function(){e(this).parents(".input-row").removeClass("current")})}(jQuery,window),function(e,o,n){function t(){a="medium"==OS.getMediaSize()?100:30,l.length>0&&(s=l.offset().top+l.outerHeight()-a,r.scrollTop()<s&&c.addClass("light-theme"))}function i(){var e=r.scrollTop();l.length>0&&(e>=s?c.removeClass("light-theme"):c.addClass("light-theme"))}var a,s,r=e(o),c=e("#masthead"),l=e(".single-case_study .page-header");t(),r.on("resize",t).on("scroll",i)}(jQuery,window),function(e,o,n){e(document).ready(function(){var n=e(o);n.height();e(".case-study-preview").each(function(){function o(){i=OS.getMediaSize(),a=l.outerHeight(),s=l.offset().top-.25*a,r=l.offset().top+.5*a,c=d.outerHeight()}function t(){var e=n.scrollTop();"medium"==i&&(e>=s&&r>e?l.addClass("active"):l.removeClass("active"))}var i,a,s,r,c,l=e(this),d=(l.find(".section-image"),l.find(".section-content"));e("body.home").length>0&&(o(),n.on("resize",o),n.on("scroll",t))})})}(jQuery,window),function(e,o,n){var t={duration:1e3,mobileHA:!1},i=e(o);e(".smooth-scroll").on("click",function(o){o.preventDefault();var n=e(this).attr("href");e(n).velocity("scroll",t)}),e(".page-section").each(function(){function o(){t=s.offset().top,a=i.height()}function n(){var o=i.scrollTop();o>=t&&t+a>o&&(0===r.length?e(".scroll-down").attr("href","#home-intro").addClass("reverse"):e(".scroll-down").attr("href","#"+r.attr("id")).removeClass("reverse"))}var t,a,s=e(this),r=s.next(".page-section");e("body.home").length>0&&(o(),i.on("resize",o),i.on("scroll",n))})}(jQuery,window),function(e,o,n){e(".menu-toggle").on("click",function(o){o.preventDefault();var n,t=e(".site-header"),i=e(".main-menu");t.hasClass("main-menu-active")?(t.removeClass("main-menu-active"),n=[{e:i,p:"fadeOut",o:{duration:300}},{e:e(".main-menu-scrim"),p:"fadeOut",o:{duration:300,sequenceQueue:!1}}],e.Velocity.RunSequence(n)):(0===e(".main-menu-scrim").length&&e('<div class="main-menu-scrim"></div>').appendTo("body"),t.addClass("main-menu-active"),n=[{e:e(".main-menu-scrim"),p:"fadeIn",o:{duration:300}},{e:i,p:"fadeIn",o:{duration:300,sequenceQueue:!1}}],e.Velocity.RunSequence(n))})}(jQuery,window),function(e,o,n){function t(){a=d.height(),s=OS.getMediaSize(),officesTop=r.offset().top,c=e(".brooklyn .office-address").offset().top,l=e(".office-location.oakland").offset().top}function i(){var e=d.scrollTop();"medium"==s&&(e>=officesTop&&l>e?(r.addClass("fixed").removeClass("un-fixed"),r.attr("data-show-map","brooklyn")):e>=l?r.addClass("un-fixed").removeClass("fixed"):(r.removeClass("fixed un-fixed"),r.attr("data-show-map","brooklyn")),e>=c&&r.attr("data-show-map","oakland"))}var a,s,r,c,l,d=e(o);if(e(".office-map").length>0&&Modernizr.webgl){r=e(".office-locations"),mapboxgl.accessToken="pk.eyJ1Ijoib2JqZWN0aXZlc3ViamVjdCIsImEiOiJPY25wYWRjIn0.AFZPHessR_DGefRkzPilDA";new mapboxgl.Map({container:"brooklyn-map",style:"mapbox://styles/objectivesubject/cijdnlkv400hpavm3hkpvu33m",center:[-73.987472,40.700862],zoom:12.5,minZoom:12.5}),new mapboxgl.Map({container:"oakland-map",style:"mapbox://styles/objectivesubject/cijdoxa6000f81mm2bsxybv8w",center:[-122.2658341,37.8133177],zoom:12.5,minZoom:12.5});t(),d.on("resize",t),d.on("scroll",i)}}(jQuery,window),function(e,o,n){var t=e(o);e(document).ready(function(){e("[data-parallax-node]").each(function(){function o(){i=r.offset().top,a=t.height(),s=i-a}function n(){var e=t.scrollTop(),o=e-s;"medium"==OS.getMediaSize()&&e>=s&&r.css({transform:"translateY("+o*c+"px)",zIndex:"1"})}var i,a,s,r=e(this),c=r.data("parallax-node");o(),t.on("resize",o).on("scroll",n)})})}(jQuery,window),function(e,o,n){e(document).ready(function(){e(".os-slideshow").each(function(){var o=e(this),n={mobileFirst:!0,dots:!0};if(o.hasClass("center-mode")&&e.extend(n,{centerMode:!0,centerPadding:"20px",slidesToShow:1,responsive:[{breakpoint:768,settings:{centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:960,settings:{centerMode:!0,centerPadding:"100px",slidesToShow:1}}]}),o.hasClass("unslick")){var t={breakpoint:o.data("unslick"),settings:"unslick"};n.responsive?n.responsive.push(t):n.responsive=[t]}o.slick(n)})})}(jQuery,window),function(e,o,n){e(document).ready(function(){e(".slider-input").each(function(){var o=e(this),n=o.closest(".slider-row"),t=o.siblings(".slider-track, .slider-thumb"),i=n.find("img.top");o.on("input",function(e){if("medium"==OS.getMediaSize()){var n=o.val(),a=i.width(),s=i.height(),r=a*(n/100);i.css({clip:"rect( 0, "+r+"px, "+s+"px, 0 )"}),t.css({left:n+"%"})}})})})}(jQuery,window);