!function(e,o,n){function t(){return o.getComputedStyle(document.querySelector("body"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}var i=e(".page-section"),a=e(o),s="#F0F0EE";mediaSize=t(),"medium"==mediaSize&&i.each(function(){var o=e(this),n=o.data("color")||s,t=o.next(".page-section"),i=t.data("color")||s,u=o.offset().top,c=o.offset().top+o.outerHeight(),r=new e.Color(n),l=t.length?new e.Color(i):new e.Color(s);a.on("scroll",function(){var o=a.scrollTop();if(o>=u&&c>o){var n=(o-u)/(c-u),t=r.red()+(l.red()-r.red())*n,i=r.green()+(l.green()-r.green())*n,s=r.blue()+(l.blue()-r.blue())*n,d=new e.Color(t,i,s);e("body").css({backgroundColor:d})}})})}(jQuery,window),function(e,o,n){e(document).ready(function(){var n=e(o);n.height();e(".case-study-preview").each(function(){var o=e(this),t=o.offset().top,i=e(this).outerHeight(),a=t+.25*i,s=(o.find(".section-image"),o.find(".section-content")),u=s.outerHeight();n.on("scroll",function(){var e=n.scrollTop();e>=t&&a>e?(o.addClass("active"),"fixed"!==s.css("position")&&s.css({position:"fixed",top:s.offset().top+u/2-e+"px"})):e>=a?(o.removeClass("active"),"fixed"==s.css("position")&&s.css({position:"absolute",top:s.offset().top+u/2-t+"px"})):(o.removeClass("active"),s.css({position:"relative",top:"50%"}))})})})}(jQuery,window),function(e,o,n){e(".smooth-scroll").on("click",function(o){o.preventDefault();var n=e(this).attr("href");e(n).velocity("scroll",{duration:1e3,mobileHA:!1})})}(jQuery,window),function(e,o,n){e(".menu-toggle").on("click",function(o){o.preventDefault();var n,t=e(".site-header"),i=e(".main-menu"),a=e(".wordmark.light"),s=e(".wordmark.dark");t.hasClass("main-menu-active")?(t.removeClass("main-menu-active"),n=[{e:e(".main-menu > li"),p:{translateY:"20px"},o:{duration:200,stagger:200}},{e:s,p:"fadeIn",o:{duration:300,display:"block"}},{e:a,p:"fadeOut",o:{duration:300,display:"block",sequenceQueue:!1}},{e:i,p:"fadeOut",o:{duration:300,sequenceQueue:!1}},{e:e(".main-menu-scrim"),p:"fadeOut",o:{duration:300,sequenceQueue:!1}}],e.Velocity.RunSequence(n)):(0==e(".main-menu-scrim").length&&e('<div class="main-menu-scrim"></div>').appendTo("body"),t.addClass("main-menu-active"),n=[{e:e(".main-menu-scrim"),p:"fadeIn",o:{duration:300}},{e:i,p:"fadeIn",o:{duration:300,sequenceQueue:!1}},{e:s,p:"fadeOut",o:{duration:300,sequenceQueue:!1}},{e:a,p:"fadeIn",o:{duration:300,sequenceQueue:!1}},{e:e(".main-menu > li"),p:{translateY:"0"},o:{duration:200,stagger:200}}],e.Velocity.RunSequence(n))})}(jQuery,window),function(e,o,n){if(e("#content.contact").length>0){mapboxgl.accessToken="pk.eyJ1Ijoib2JqZWN0aXZlc3ViamVjdCIsImEiOiJPY25wYWRjIn0.AFZPHessR_DGefRkzPilDA";new mapboxgl.Map({container:"brooklyn-map",style:"mapbox://styles/objectivesubject/cijdnlkv400hpavm3hkpvu33m",scrollWheelZoom:!1}),new mapboxgl.Map({container:"oakland-map",style:"mapbox://styles/objectivesubject/cijdoxa6000f81mm2bsxybv8w",scrollWheelZoom:!1})}}(jQuery,window);