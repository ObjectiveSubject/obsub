!function(e,o,t){e(document).ready(function(){e(".active-on-inview").each(function(){function o(){n=OS.window.height(),a=n*c*-1}function t(){var e=OS.window.scrollTop();i=s.offset().top+a,e>=i?s.addClass("active"):s.removeClass("active")}var n,a,i,s=e(this),c=s.data("offset")||0;o(),OS.window.on("resize",o).on("scroll",t)})})}(jQuery,window),function(e,o,t){function n(){var o=e(".input-row.current"),t=o.next(".input-row");0!==o.length&&o.removeClass("current").addClass("complete"),0!==t.length&&t.velocity("fadeIn",{duration:400}),e(".form-nav span").each(function(o){var t=e(".input-row.complete").length;t>o&&e(this).addClass("complete").removeClass("active"),o==t&&e(this).addClass("active")})}var a,i=e(".input-row input");e(".contact-form .gateway").click(function(o){o.preventDefault();var t=e(this).attr("href"),n=e(this).data("value"),a=e(e(this).data("fields"));e('.subject-select input[type="radio"]').not('[value="'+n+'"]').attr("checked",!1),e('.subject-select input[value="'+n+'"]').attr("checked","checked").change(),e(t).velocity("scroll",{duration:500}),"block"!==a.css("display")&&(a.velocity("fadeIn",{duration:400}),e(".input-row").first().velocity("fadeIn",{duration:400,complete:function(){e("#contact_name").focus()}}))}),e('input[type="radio"]').on("change",function(){var o=e(this).val(),t=e('a.gateway[data-value="'+o+'"]');e(".subject-select").addClass("has-selection"),t.hasClass("selected")||(e("a.gateway").removeClass("selected"),t.addClass("selected"))}),i.keyup(function(){var o=e(this);clearTimeout(a),a=setTimeout(function(){""!==o.val()&&n()},600)}).keydown(function(){clearTimeout(a)}).focus(function(){e(this).parents(".input-row").addClass("current")}).blur(function(){e(this).parents(".input-row").removeClass("current")}),e(".input-row textarea").keyup(function(){""!==e(this).val()?(e(".form-nav span").last().addClass("complete").removeClass("active"),e('.input-row input[type="submit"]').attr("disabled",!1)):(e(".form-nav span").last().removeClass("complete").addClass("active"),e('.input-row input[type="submit"]').attr("disabled",!0))}),e("#contact-form").submit(function(o){o.preventDefault(),e(".contact-form").addClass("loading");var t=e(this).serialize(),n={url:osAdmin.ajaxUrl,type:"post",dataType:"json",data:"action=os_form_process&nonce="+osAdmin.nonce+"&"+t,success:function(o,t,n){var a=[{e:e("#contact-form"),p:{opacity:0},o:{duration:500}},{e:e(".contact-form-container .success"),p:"fadeIn",o:{duration:500}},{e:e("#contact-form"),p:{height:0},o:{duration:500}}];e.Velocity.RunSequence(a),console.log(o),console.log(t),console.log(n)},error:function(o,t,n){e(".error p").append("Oops, looks like there was an error! See below:<br/><br/>"+t+"<br/>"+n),e(".error").velocity("fadeIn",500),console.log(o),console.log(t),console.log(n)},complete:function(){e(".contact-form").removeClass("loading")}};console.log(n.data),e.ajax(n)})}(jQuery,window),function(e,o,t){function n(){i="default"!==OS.getMediaSize()&&"small"!==OS.getMediaSize()?60:30,OS.isCaseStudy()&&(s=d.outerHeight()-i,OS.window.scrollTop()<s&&r.addClass("ui-light-theme")),OS.isHome()&&(c=e(".home .case-study-preview").first().offset().top,l=e(".former-clients").offset().top)}function a(){var e=OS.window.scrollTop();OS.isCaseStudy()&&(e>=s?r.removeClass("ui-light-theme"):r.addClass("ui-light-theme")),OS.isHome()&&(e>=c-i&&l-i>e?r.addClass("ui-light-theme"):r.removeClass("ui-light-theme"))}var i,s,c,l,r=e("body"),d=e(".single-case_study .page-header");n(),OS.window.on("resize",n).on("scroll",a)}(jQuery,window),function(e,o,t){e(".home-intro, .home .case-study-preview").each(function(){function o(){i=OS.getMediaSize(),a=OS.window.height(),n=s.offset().top}function t(){var e=OS.window.scrollTop(),o=e-n;o>=0?c.velocity({translateY:.5*o+"px"},0):o>s.outerHeight()/2?c.velocity({translateY:"50%"},0):c.velocity({translateY:"0px"},0)}var n,a,i,s=e(this),c=s.find(".section-container");s.find(".scrim"),s.find(".section-content");o(),"default"!==i&&"small"!==i&&OS.window.on("resize",o),OS.window.on("scroll",t)})}(jQuery,window),function(e,o,t){var n={duration:1e3,mobileHA:!1};e(".smooth-scroll").on("click",function(o){o.preventDefault();var t=e(this).attr("href");e(t).velocity("scroll",n)}),e(".page-section").each(function(){function o(){n=i.offset().top,a=OS.window.height()}function t(){var o=OS.window.scrollTop();OS.isHome()?o>=n&&n+a>o&&(0===s.length?e(".scroll-down").addClass("off-canvas"):(e(".scroll-down").removeClass("off-canvas"),e(".scroll-down").attr("href","#"+s.attr("id")))):o>0?e(".scroll-down").addClass("off-canvas"):e(".scroll-down").removeClass("off-canvas")}var n,a,i=e(this),s=i.next(".page-section");o(),OS.window.on("resize",o),OS.window.on("scroll",t)}),e(".case-study-title a").click(function(o){o.preventDefault();var t=e(this),n=t.parents(".page-section"),a=t.attr("href"),i=Math.abs(n.offset().top-OS.window.scrollTop()),s=5*i>1e3?1e3:5*i;n.velocity("scroll",{mobileHA:!1,duration:s,complete:function(){location.href=a}})})}(jQuery,window),function(e,o,t){e(".menu-toggle").on("click",function(o){o.preventDefault();var t,n=e(".site-header"),a=e(".main-menu");n.hasClass("main-menu-active")?(n.removeClass("main-menu-active"),t=[{e:a,p:"fadeOut",o:{duration:300}},{e:e(".main-menu-scrim"),p:"fadeOut",o:{duration:300,sequenceQueue:!1}}],e.Velocity.RunSequence(t)):(0===e(".main-menu-scrim").length&&e('<div class="main-menu-scrim"></div>').appendTo("body"),n.addClass("main-menu-active"),t=[{e:e(".main-menu-scrim"),p:"fadeIn",o:{duration:300}},{e:a,p:"fadeIn",o:{duration:300,sequenceQueue:!1}}],e.Velocity.RunSequence(t))})}(jQuery,window),function(e,o,t){function n(){i=u.height(),s=OS.getMediaSize(),officesTop=c.offset().top,l=e(".brooklyn .office-address").offset().top,r=e(".office-location.oakland").offset().top,d=e(f.getCanvas())}function a(){var e=u.scrollTop(),o=e-officesTop;"default"!==s&&"small"!==s&&(o>0&&r>e?(c.addClass("fixed").removeClass("un-fixed"),d.velocity({translateY:o+"px"},0)):e>=r?(c.addClass("un-fixed").removeClass("fixed"),d.velocity({translateY:"100vh"},0)):(c.removeClass("fixed un-fixed"),d.velocity({translateY:"0"},0)),e>=l&&c.attr("data-show-map","oakland"))}var i,s,c,l,r,d,u=e(o);if(e(".office-map").length>0&&Modernizr.webgl&&mapboxgl){c=e(".office-locations"),mapboxgl.accessToken="pk.eyJ1Ijoib2JqZWN0aXZlc3ViamVjdCIsImEiOiJPY25wYWRjIn0.AFZPHessR_DGefRkzPilDA";var f=new mapboxgl.Map({container:"brooklyn-map",style:"mapbox://styles/objectivesubject/cijdnlkv400hpavm3hkpvu33m",center:[-73.987472,40.700862],zoom:12.5,minZoom:12.5});new mapboxgl.Map({container:"oakland-map",style:"mapbox://styles/objectivesubject/cijdoxa6000f81mm2bsxybv8w",center:[-122.2658341,37.8133177],zoom:12.5,minZoom:12.5});n(),u.on("resize",n),u.on("scroll",a)}}(jQuery,window),function(e,o,t){function n(){e(".page-nav li").velocity("fadeIn",{duration:500,stagger:200})}e(".single-case_study").length>0&&e(document).ready(n)}(jQuery,window),function(e,o,t){var n=e(o);e(document).ready(function(){e("[data-parallax-node]").each(function(){function o(){a=c.offset().top,i=n.height(),s=a-i}function t(){var e=n.scrollTop(),o=e-s;"default"!==OS.getMediaSize(),"small"!==OS.getMediaSize()&&e>=s&&c.css({transform:"translateY("+o*l+"px)",zIndex:"1"})}var a,i,s,c=e(this),l=c.data("parallax-node");o(),n.on("resize",o).on("scroll",t)})})}(jQuery,window),function(e,o,t){e(document).ready(function(){e(".os-slideshow").each(function(){var o=e(this),t={mobileFirst:!0,dots:!0};if(o.hasClass("center-mode")&&e.extend(t,{centerMode:!0,centerPadding:"20px",slidesToShow:1,responsive:[{breakpoint:768,settings:{centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:960,settings:{centerMode:!0,centerPadding:"100px",slidesToShow:1}}]}),o.hasClass("unslick")){var n={breakpoint:o.data("unslick"),settings:"unslick"};t.responsive?t.responsive.push(n):t.responsive=[n]}o.slick(t)})})}(jQuery,window),function(e,o,t){e(document).ready(function(){e(".slider-input").each(function(){var o=e(this),t=o.closest(".slider-row"),n=o.siblings(".slider-track, .slider-thumb"),a=t.find("img.top");o.on("input",function(e){if("default"!==OS.getMediaSize()&&"small"!==OS.getMediaSize()){var t=o.val(),i=a.width(),s=a.height(),c=i*(t/100);a.css({clip:"rect( 0, "+c+"px, "+s+"px, 0 )"}),n.css({left:t+"%"})}})})})}(jQuery,window);